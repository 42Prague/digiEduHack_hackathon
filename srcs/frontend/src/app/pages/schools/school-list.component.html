<div class="grid cols-3" style="align-items:center">
	<h2 style="margin-top:0">{{ 'nav.schools' | translate }}</h2>
	<div>
		<input
			class="input"
			type="search"
			[placeholder]="'common.searchByNameOrAddress' | translate"
			[(ngModel)]="searchTerm"
			(ngModelChange)="onSearchTerm($event)"
		/>
		<div *ngIf="regionFilter" class="note" style="margin-top:6px">Filtered by Region: {{ regionFilter }}</div>
	</div>
	<div style="display:flex;gap:8px;justify-content:flex-end">
		<select class="input" [(ngModel)]="sort" (ngModelChange)="onSortChange($event)">
			<option value="nameAsc">{{ 'common.nameAZ' | translate }}</option>
			<option value="nameDesc">{{ 'common.nameZA' | translate }}</option>
		</select>
		<a class="btn" routerLink="/schools/new" *ngIf="isGlobal() || isRegion()">+ {{ 'school.create' | translate }}</a>
	</div>
</div>
<div *ngIf="isLoading">{{ 'common.loading' | translate }}</div>
<div class="grid cols-3" *ngIf="!isLoading">
	<a class="card" *ngFor="let s of filteredSchools" [routerLink]="['/schools', s.id]">
		<div style="display:flex;align-items:center;justify-content:space-between">
			<div style="font-weight:600">{{ s.name }}</div>
			<button class="btn secondary" *ngIf="isGlobal()" (click)="$event.preventDefault(); viewAsSchool(s)" [attr.title]="'common.viewAsSchool' | translate">
				ğŸ‘
			</button>
		</div>
		<div class="note">{{ s.address }}</div>
		<div class="note">{{ 'region.label' | translate }}: {{ s.regionId }}</div>
	</a>
	<div *ngIf="!filteredSchools.length" class="note">{{ 'school.none' | translate }}</div>
</div>

